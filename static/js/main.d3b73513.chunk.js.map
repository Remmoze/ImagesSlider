{"version":3,"sources":["redux/configSlice.jsx","redux/gradientSlice.jsx","redux/dotsSlice.jsx","content/city.jpg","redux/imageSlice.jsx","redux/synthSlice.jsx","redux/store.jsx","components/settings/gradient/colorItem.jsx","components/settings/gradient/colorsAdder.jsx","components/settings/components/settingsSlider.jsx","components/settings/modes/Gradient.jsx","components/settings/components/settingsCheckbox.jsx","components/settings/image/imageUpload.jsx","components/settings/modes/Image.jsx","components/settings/modes/Radial.jsx","components/settings/modes/Dots.jsx","components/settings/modes/Blinking.jsx","components/settings/modes/Synthwave.jsx","components/settings/modes/modesMenu.jsx","components/settings/modeSelector.jsx","components/settings/SettingsContainer.jsx","components/settings/SettingsOverlay.jsx","components/display/canvas/windowSize.jsx","components/display/canvas/useCanvas.jsx","components/display/drawing/GradientFactory.jsx","components/display/drawing/display modes/Dots/Vector2.js","components/display/drawing/display modes/Dots/Dot.js","components/display/drawing/display modes/Dots/Grid.js","components/display/drawing/display modes/dots.js","components/display/drawing/display modes/image.js","components/display/drawing/display modes/Synthwave/floor.js","components/display/drawing/display modes/Synthwave/background.js","components/display/drawing/display modes/Synthwave/houseLoading.js","components/display/drawing/display modes/Synthwave/houses.js","content/house_sample.png","components/display/drawing/display modes/synthwave.js","components/display/drawing/canvasUpdate.jsx","components/display/drawing/display modes/gradient.js","components/display/drawing/display modes/blinking.js","components/display/drawing/display modes/radial.js","components/display/canvas/Canvas.jsx","components/display/canvas/Display.jsx","components/MainContainer.jsx","index.js"],"names":["configSlice","createSlice","name","initialState","debug","mode","reducers","setMode","state","payload","actions","setImageUrl","gradientSlice","speed","rotation","Math","PI","colors","imageUrl","setColors","addColor","push","setColorByIndex","index","color","deleteColorByIndex","splice","setSpeed","setRotation","dotsSlice","count","maxDistance","showDots","curve","showGrid","setCount","setShowDots","setMaxDistance","setCurve","setShowGrid","imageSlice","City","speedX","speedY","scale","clampX","clampY","setSpeedX","setSpeedY","setScale","setClampX","setClampY","synthSlice","floorHeight","numberOfLines","setFloorHeight","setNumberOfLines","rootReducer","combineReducers","config","configReducer","gradient","dots","dotsReducer","image","synth","storage","configureStore","reducer","changeColor","dispatch","setError","strColor","s","Option","style","isColor","ColorItem","blockDelete","useState","error","useDispatch","ListItem","disablePadding","ml","mr","sx","width","height","backgroundColor","border","borderColor","borderRadius","opacity","ListItemText","TextField","onChange","target","value","id","variant","defaultValue","IconButton","disabled","onClick","ColorsList","useSelector","item","mt","container","direction","alignItems","length","floor","random","toString","toUpperCase","List","bgcolor","TransitionGroup","map","Collapse","Divider","SettingsSlider","label","min","max","step","setValue","Slider","e","valueLabelDisplay","Gradient","angle","store","toFixed","SettingsCheckbox","checked","setChecked","Checkbox","Typography","display","ImageUpload","imgURL","setImgURL","uploadInputRef","useRef","ref","type","accept","newImage","files","newUrl","URL","createObjectURL","revokeObjectURL","hidden","Button","current","click","Image","Radial","newValue","Dots","Blinking","Synthwave","Modes","component","Mode","mb","FormControl","fullWidth","InputLabel","Select","MenuItem","find","SettingsContainer","spacing","padding","justifyContent","gutterBottom","SettingsOverlay","Box","position","top","left","maxWidth","SettingsRef","React","forwardRef","props","AnimatedSettingsOverlay","active","Slide","timeout","enter","exit","easing","in","appear","mountOnEnter","unmountOnExit","useWindowSize","window","innerWidth","innerHeight","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","frameCount","useCanvas","draw","canvasRef","animationFrameId","context","getContext","render","requestAnimationFrame","cancelAnimationFrame","getRadius","canvas","realRadius","sqrt","getRealRadius","colorStopWidth","radius","getColorStopWidth","getSpeed","addColorStops","i","colorOffset","addColorStop","createGradientType","storeGradient","x1","cos","y1","sin","x2","y2","createLinearGradient","getLinearGradient","Vector2","x","y","this","vector2","Dot","pos","vel","setVelocity","add","limit","fillStyle","beginPath","arc","fill","createDot","canv","h","v","r","g","b","f","p","q","t","get","num","res","hsvToRgb","Cell","point","Grid","cells","rows","columns","init","ceil","dot","addDot","cell","console","getCell","indexOf","getCoordsByIndex","xBoundary","yBoundary","j","intersects","grid","connectDots","dot1","dot2","distance","alpha","padStart","strokeStyle","lineWidth","lineCap","connectDotsCurved","connectDotsLine","moveTo","lineTo","stroke","bezierCurveTo","getBezier","lastSpeed","lastDistance","updateProperties","needsUpdate","removeDot","updateCount","populate","updateDots","fillRect","update","strokeRect","neighbours","getCellNeighbours","k","neighbour","z","connectNew","pattern","offsetX","offsetY","scalingX","scalingY","prevURL","updateImage","Storage","onload","log","createPattern","updatePattern","src","setTransform","resetTransform","translate","drawFloor","offset","scaleX","scaleY","grad","createGradient","amount","filter","pixelOffset","drawLines","drawBackground","getBGGradient","sunBox","sunSize","getSunBox","getSunGradient","drawSun","drawSunLines","globalCompositeOperation","getSunHazeGradient","drawSunHaze","housesImages","houseBox","housesImage","removeWhite","imageData","getImageData","data","putImageData","loadImage","url","Promise","resolve","parseHouses","document","createElement","content","createHousesGradient","imageURLs","drawImage","toDataURL","urls","pendingImages","all","then","images","loadHouseImages","housesCache","oldCount","addHousesToCache","oldOffset","drawHouses","slice","abs","shouldUpdate","unshift","pop","houseIndex","house","updateSynth","args","globalAlpha","createFillStyle","createBlinking","createRadialGradient","getRadialGradient","createRadial","getDrawType","drawUpdate","prevMode","prevDimensions","CanvasUpdate","temp","font","textAlign","fillText","drawDefault","drawDebug","Canvas","Display","MainContainer","setCheck","bottom","theme","createTheme","palette","App","StrictMode","ThemeProvider","CssBaseline","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.d3b73513.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst configSlice = createSlice({\r\n    name: \"config\",\r\n    initialState: {\r\n        debug: false,\r\n        mode: \"Synthwave\",\r\n    },\r\n    reducers: {\r\n        setMode: (state, { payload }) => {\r\n            state.mode = payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setImageUrl, setMode } = configSlice.actions;\r\n\r\nexport default configSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst gradientSlice = createSlice({\r\n    name: \"gradient\",\r\n    initialState: {\r\n        speed: 100,\r\n        rotation: (Math.PI * 5) / 8, //radians\r\n        colors: [\r\n            \"#FF0000\", // Red\r\n            \"#FFA500\", // Orange\r\n            \"#FFFF00\", // Yellow\r\n            \"#008000\", // Green\r\n            \"#0000FF\", // Blue\r\n            \"#4B0082\", // Indigo\r\n            \"#EE82EE\", // Violet\r\n        ],\r\n        imageUrl: null,\r\n    },\r\n    reducers: {\r\n        /*\r\n            Should add a smooth transition between colors\r\n            https://stackoverflow.com/questions/30196043/how-to-display-a-smoother-gradient-in-html5-canvas\r\n            https://stackoverflow.com/questions/21835739/smooth-color-transition-algorithm\r\n        */\r\n\r\n        setColors: (state, { payload }) => {\r\n            state.colors = payload;\r\n        },\r\n        addColor: (state, { payload }) => {\r\n            state.colors.push(payload);\r\n        },\r\n        setColorByIndex: (state, { payload }) => {\r\n            state.colors[payload.index] = payload.color;\r\n        },\r\n        deleteColorByIndex: (state, { payload }) => {\r\n            state.colors.splice(payload, 1);\r\n        },\r\n        setSpeed: (state, { payload }) => {\r\n            state.speed = payload;\r\n        },\r\n        setRotation: (state, { payload }) => {\r\n            state.rotation = payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setSpeed, setRotation, addColor, setColorByIndex, deleteColorByIndex } = gradientSlice.actions;\r\n\r\nexport default gradientSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst dotsSlice = createSlice({\r\n    name: \"dots\",\r\n    initialState: {\r\n        speed: 50,\r\n        count: 100,\r\n        maxDistance: 120,\r\n        showDots: true,\r\n        curve: 0,\r\n        showGrid: false,\r\n    },\r\n    reducers: {\r\n        setSpeed: (state, { payload }) => {\r\n            state.speed = payload;\r\n        },\r\n        setCount: (state, { payload }) => {\r\n            state.count = payload;\r\n        },\r\n        setShowDots: (state, { payload }) => {\r\n            state.showDots = payload;\r\n        },\r\n        setMaxDistance: (state, { payload }) => {\r\n            state.maxDistance = payload;\r\n        },\r\n        setCurve: (state, { payload }) => {\r\n            state.curve = payload;\r\n        },\r\n        setShowGrid: (state, { payload }) => {\r\n            state.showGrid = payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setSpeed, setCount, setShowDots, setMaxDistance, setCurve, setShowGrid } = dotsSlice.actions;\r\n\r\nexport default dotsSlice.reducer;\r\n","export default __webpack_public_path__ + \"static/media/city.ea63c51b.jpg\";","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport City from \"../content/city.jpg\";\r\n\r\nconst imageSlice = createSlice({\r\n    name: \"image\",\r\n    initialState: {\r\n        imageUrl: City,\r\n        speedX: -3,\r\n        speedY: 0,\r\n        scale: true,\r\n        clampX: false,\r\n        clampY: false,\r\n    },\r\n    reducers: {\r\n        setImageUrl: (state, { payload }) => {\r\n            state.imageUrl = payload;\r\n        },\r\n        setSpeedX: (state, { payload }) => {\r\n            state.speedX = payload;\r\n        },\r\n        setSpeedY: (state, { payload }) => {\r\n            state.speedY = payload;\r\n        },\r\n        setScale: (state, { payload }) => {\r\n            state.scale = payload;\r\n        },\r\n        setClampX: (state, { payload }) => {\r\n            state.clampX = payload;\r\n        },\r\n        setClampY: (state, { payload }) => {\r\n            state.clampY = payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setImageUrl, setSpeedX, setSpeedY, setScale, setClampX, setClampY } = imageSlice.actions;\r\n\r\nexport default imageSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst synthSlice = createSlice({\r\n    name: \"synth\",\r\n    initialState: {\r\n        floorHeight: 3 / 4, // 0..1\r\n        numberOfLines: 30,\r\n    },\r\n    reducers: {\r\n        setFloorHeight: (state, { payload }) => {\r\n            state.floorHeight = payload;\r\n        },\r\n        setNumberOfLines: (state, { payload }) => {\r\n            state.numberOfLines = payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setFloorHeight, setNumberOfLines } = synthSlice.actions;\r\n\r\nexport default synthSlice.reducer;\r\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nimport configReducer from \"./configSlice\";\r\nimport gradientSlice from \"./gradientSlice\";\r\nimport dotsReducer from \"./dotsSlice\";\r\nimport imageSlice from \"./imageSlice\";\r\nimport synthSlice from \"./synthSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n    config: configReducer,\r\n    gradient: gradientSlice,\r\n    dots: dotsReducer,\r\n    image: imageSlice,\r\n    synth: synthSlice,\r\n});\r\n\r\nconst storage = configureStore({\r\n    reducer: rootReducer,\r\n});\r\n\r\nexport default storage;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteColorByIndex, setColorByIndex } from \"../../../redux/gradientSlice\";\r\n\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nimport { IconButton, TextField } from \"@mui/material\";\r\nimport { ListItem, ListItemText } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nconst isColor = (strColor) => {\r\n    const s = new Option().style;\r\n    s.color = strColor;\r\n    return s.color !== \"\";\r\n};\r\n\r\nconst changeColor = (dispatch, index, color, setError) => {\r\n    if (!isColor(color)) {\r\n        setError(true);\r\n        return;\r\n    }\r\n    setError(false);\r\n    dispatch(setColorByIndex({ index, color }));\r\n};\r\n\r\nconst ColorItem = ({ color, index, blockDelete }) => {\r\n    const [error, setError] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <ListItem disablePadding>\r\n            <Box\r\n                ml={1}\r\n                mr={1}\r\n                sx={{\r\n                    width: 70,\r\n                    height: 25,\r\n                    backgroundColor: color,\r\n                    border: 2,\r\n                    borderColor: \"#aaaaaa\",\r\n                    borderRadius: 2,\r\n                    \"&:hover\": {\r\n                        backgroundColor: color,\r\n                        opacity: [0.8, 0.8, 0.8],\r\n                    },\r\n                }}\r\n            />\r\n\r\n            <ListItemText>\r\n                <TextField\r\n                    onChange={({ target }) => changeColor(dispatch, index, target.value, setError)}\r\n                    id=\"standard-basic\"\r\n                    variant=\"standard\"\r\n                    color={error ? \"error\" : \"primary\"}\r\n                    defaultValue={color}\r\n                />\r\n            </ListItemText>\r\n            <IconButton\r\n                disabled={blockDelete}\r\n                onClick={() => {\r\n                    dispatch(deleteColorByIndex(index));\r\n                }}\r\n            >\r\n                <DeleteIcon />\r\n            </IconButton>\r\n        </ListItem>\r\n    );\r\n};\r\n\r\nexport default ColorItem;\r\n","import React from \"react\";\r\nimport { TransitionGroup } from \"react-transition-group\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addColor } from \"../../../redux/gradientSlice\";\r\n\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\nimport { Grid, IconButton } from \"@mui/material\";\r\nimport { List, Divider } from \"@mui/material\";\r\nimport { Collapse } from \"@mui/material\";\r\n\r\nimport ColorItem from \"./colorItem\";\r\n\r\nconst RandomColor = () => {\r\n    return (\r\n        \"#\" +\r\n        Math.floor(Math.random() * 16777215)\r\n            .toString(16)\r\n            .toUpperCase()\r\n    );\r\n};\r\n\r\nconst ColorsList = () => {\r\n    const gradient = useSelector((storage) => storage.gradient);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <Grid item mt={-1}>\r\n            <Grid container direction=\"row\" alignItems=\"center\">\r\n                <Grid item>Colors</Grid>\r\n                <Grid item>\r\n                    <IconButton\r\n                        disabled={gradient.colors.length >= 9}\r\n                        onClick={() => dispatch(addColor(RandomColor()))}\r\n                    >\r\n                        <AddIcon />\r\n                    </IconButton>\r\n                </Grid>\r\n            </Grid>\r\n            <List sx={{ width: \"100%\", bgcolor: \"#00000050\", borderRadius: 3 }}>\r\n                <TransitionGroup>\r\n                    {gradient.colors.map((color, index) => (\r\n                        <Collapse key={color}>\r\n                            {index !== 0 && <Divider />}\r\n                            <ColorItem blockDelete={gradient.colors.length < 2} color={color} index={index}></ColorItem>\r\n                        </Collapse>\r\n                    ))}\r\n                </TransitionGroup>\r\n            </List>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ColorsList;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Grid, Slider } from \"@mui/material\";\r\n\r\nconst SettingsSlider = ({ defaultValue, label, onChange, min, max, step, color }) => {\r\n    const [value, setValue] = useState(defaultValue);\r\n    return (\r\n        <>\r\n            <Grid item>{label}</Grid>\r\n            <Grid item>\r\n                <Slider\r\n                    sx={{ color }}\r\n                    onChange={(e, value) => {\r\n                        setValue(value);\r\n                        onChange(value);\r\n                    }}\r\n                    defaultValue={value}\r\n                    min={min}\r\n                    max={max}\r\n                    step={step}\r\n                    value={value}\r\n                    valueLabelDisplay=\"off\"\r\n                />\r\n            </Grid>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SettingsSlider;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setSpeed, setRotation } from \"../../../redux/gradientSlice\";\r\n\r\nimport ColorsList from \"../gradient/colorsAdder\";\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\n\r\nconst getRotationLabel = (angle) => {\r\n    return `${angle.toFixed(2)} rad / ${((angle * 180) / Math.PI).toFixed(2)} degrees`;\r\n};\r\n\r\nconst Gradient = () => {\r\n    const gradient = useSelector((store) => store.gradient);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={gradient.speed}\r\n                label={\"Speed\"}\r\n                min={1}\r\n                max={100}\r\n                step={1}\r\n                onChange={(value) => dispatch(setSpeed(value))}\r\n                color={gradient.speed > 20 ? \"auto\" : \"red\"}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={gradient.rotation}\r\n                label={\"Rotation - \" + getRotationLabel(gradient.rotation)}\r\n                min={0}\r\n                max={Math.PI * 2}\r\n                step={0.01}\r\n                onChange={(value) => dispatch(setRotation(value))}\r\n            />\r\n            <ColorsList />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Gradient;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Checkbox, Grid, Typography } from \"@mui/material\";\r\n\r\nconst SettingsCheckbox = ({ defaultValue, label, onChange }) => {\r\n    const [checked, setChecked] = useState(defaultValue);\r\n    return (\r\n        <Grid mt={-1} ml={-1.5} item>\r\n            <Checkbox\r\n                checked={checked}\r\n                onChange={(e, value) => {\r\n                    setChecked(value);\r\n                    onChange(value);\r\n                }}\r\n            />\r\n            <Typography mt={1} sx={{ display: \"inline\" }}>\r\n                {label}\r\n            </Typography>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default SettingsCheckbox;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport { Button } from \"@mui/material\";\r\n\r\nconst ImageUpload = ({ onChange }) => {\r\n    const [imgURL, setImgURL] = useState(null);\r\n\r\n    const uploadInputRef = useRef(null);\r\n\r\n    const openDialog = () => {\r\n        uploadInputRef.current && uploadInputRef.current.click();\r\n    };\r\n\r\n    const fileUploaded = ({ target }) => {\r\n        let newImage = target.files[0];\r\n        let newUrl = URL.createObjectURL(newImage);\r\n        if (imgURL !== null) {\r\n            URL.revokeObjectURL(imgURL);\r\n        }\r\n        setImgURL(newUrl);\r\n        onChange(newUrl);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <input ref={uploadInputRef} type=\"file\" accept=\"image/*\" onChange={fileUploaded} hidden />\r\n            <Button onClick={openDialog} variant=\"outlined\">\r\n                Upload image\r\n            </Button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { setImageUrl, setSpeedX, setSpeedY, setScale, setClampX, setClampY } from \"../../../redux/imageSlice\";\r\n\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\nimport SettingsCheckbox from \"../components/settingsCheckbox\";\r\n\r\nimport ImageUpload from \"../image/imageUpload\";\r\n\r\nconst Image = () => {\r\n    const { speedX, speedY, scale, clampX, clampY } = useSelector((storage) => storage.image);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={speedX}\r\n                label={\"SpeedX \" + speedX}\r\n                min={-10}\r\n                max={10}\r\n                step={1}\r\n                onChange={(value) => dispatch(setSpeedX(value))}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={speedY}\r\n                label={\"SpeedY \" + speedY}\r\n                min={-10}\r\n                max={10}\r\n                step={1}\r\n                onChange={(value) => dispatch(setSpeedY(value))}\r\n            />\r\n            <SettingsCheckbox\r\n                defaultValue={scale}\r\n                label={\"Scale to fit\"}\r\n                onChange={(value) => dispatch(setScale(value))}\r\n            />\r\n            <SettingsCheckbox\r\n                defaultValue={clampX}\r\n                label={\"Clamp X\"}\r\n                onChange={(value) => dispatch(setClampX(value))}\r\n            />\r\n            <SettingsCheckbox\r\n                defaultValue={clampY}\r\n                label={\"Clamp Y\"}\r\n                onChange={(value) => dispatch(setClampY(value))}\r\n            />\r\n            <ImageUpload onChange={(newUrl) => dispatch(setImageUrl(newUrl))} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Image;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setSpeed } from \"../../../redux/gradientSlice\";\r\n\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\nimport ColorsList from \"../gradient/colorsAdder\";\r\n\r\nconst Radial = () => {\r\n    const gradient = useSelector((store) => store.gradient);\r\n    const dispatch = useDispatch();\r\n\r\n    const changeSpeed = (newValue) => {\r\n        dispatch(setSpeed(newValue));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={gradient.speed}\r\n                label={\"Speed\"}\r\n                min={1}\r\n                max={100}\r\n                step={1}\r\n                onChange={changeSpeed}\r\n                color={gradient.speed > 20 ? \"auto\" : \"red\"}\r\n            />\r\n            <ColorsList />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Radial;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { setCount, setShowDots, setSpeed, setMaxDistance, setCurve, setShowGrid } from \"../../../redux/dotsSlice\";\r\n\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\nimport SettingsCheckbox from \"../components/settingsCheckbox\";\r\n\r\nconst Dots = () => {\r\n    const dots = useSelector((storage) => storage.dots);\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={dots.speed}\r\n                label={\"Speed - \" + dots.speed + \" pixels/s\"}\r\n                min={1}\r\n                max={50}\r\n                step={1}\r\n                onChange={(value) => dispatch(setSpeed(value))}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={dots.count}\r\n                label={\"Count - \" + dots.count}\r\n                min={0}\r\n                max={250}\r\n                step={1}\r\n                onChange={(value) => dispatch(setCount(value))}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={dots.maxDistance}\r\n                label={\"Max distance - \" + dots.maxDistance + \" pixels\"}\r\n                min={100}\r\n                max={200}\r\n                step={1}\r\n                onChange={(value) => dispatch(setMaxDistance(value))}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={dots.curve}\r\n                label={\"Curvature\"}\r\n                min={0}\r\n                max={300}\r\n                step={1}\r\n                onChange={(value) => dispatch(setCurve(value))}\r\n            />\r\n            <SettingsCheckbox\r\n                defaultValue={dots.showDots}\r\n                label={\"Show Dots\"}\r\n                onChange={(value) => dispatch(setShowDots(value))}\r\n            />\r\n            <SettingsCheckbox\r\n                defaultValue={dots.showGrid}\r\n                label={\"Show Grid\"}\r\n                onChange={(value) => dispatch(setShowGrid(value))}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Dots;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setSpeed } from \"../../../redux/gradientSlice\";\r\n\r\nimport ColorsList from \"../gradient/colorsAdder\";\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\n\r\nconst Blinking = () => {\r\n    const gradient = useSelector((store) => store.gradient);\r\n    const dispatch = useDispatch();\r\n\r\n    const changeSpeed = (newValue) => {\r\n        dispatch(setSpeed(newValue));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={gradient.speed}\r\n                label={\"Speed\"}\r\n                min={1}\r\n                max={100}\r\n                step={1}\r\n                onChange={changeSpeed}\r\n                color={gradient.speed > 20 ? \"auto\" : \"red\"}\r\n            />\r\n            <ColorsList />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Blinking;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setFloorHeight, setNumberOfLines } from \"../../../redux/synthSlice\";\r\n\r\nimport SettingsSlider from \"../components/settingsSlider\";\r\n\r\nconst Synthwave = () => {\r\n    const synth = useSelector((store) => store.synth);\r\n    const dispatch = useDispatch();\r\n\r\n    const changeFloorHeight = (newValue) => {\r\n        dispatch(setFloorHeight(newValue / 100));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SettingsSlider\r\n                defaultValue={synth.floorHeight * 100}\r\n                label={\"Floor height: \" + (synth.floorHeight * 100).toFixed(0)}\r\n                min={30}\r\n                max={85}\r\n                step={1}\r\n                onChange={changeFloorHeight}\r\n            />\r\n            <SettingsSlider\r\n                defaultValue={synth.numberOfLines}\r\n                label={\"Number of lines: \" + synth.numberOfLines}\r\n                min={20}\r\n                max={60}\r\n                step={1}\r\n                onChange={(newValue) => dispatch(setNumberOfLines(newValue))}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Synthwave;\r\n","import Gradient from \"./Gradient\";\r\nimport Image from \"./Image\";\r\nimport Radial from \"./Radial\";\r\nimport Dots from \"./Dots\";\r\nimport Blinking from \"./Blinking\";\r\nimport Synthwave from \"./Synthwave\";\r\n\r\nconst Modes = [\r\n    {\r\n        name: \"Dots\",\r\n        component: <Dots />,\r\n    },\r\n    {\r\n        name: \"Blinking\",\r\n        component: <Blinking />,\r\n    },\r\n    {\r\n        name: \"Gradient\",\r\n        component: <Gradient />,\r\n    },\r\n    {\r\n        name: \"Image\",\r\n        component: <Image />,\r\n    },\r\n    {\r\n        name: \"Radial\",\r\n        component: <Radial />,\r\n    },\r\n    {\r\n        name: \"Synthwave\",\r\n        component: <Synthwave />,\r\n    },\r\n];\r\n\r\nexport default Modes;\r\n","import React from \"react\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setMode } from \"../../redux/configSlice\";\r\n\r\nimport { Grid, FormControl, InputLabel, Select, MenuItem } from \"@mui/material\";\r\n\r\nimport Modes from \"./modes/modesMenu\";\r\n\r\nconst Mode = () => {\r\n    const config = useSelector((storage) => storage.config);\r\n    const dispatch = useDispatch();\r\n    const changeMode = ({ target }) => dispatch(setMode(target.value));\r\n\r\n    return (\r\n        <>\r\n            <Grid item mb={1}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel>Display mode</InputLabel>\r\n                    <Select value={config.mode} label=\"Display mode\" onChange={changeMode}>\r\n                        {Modes.map((mode) => (\r\n                            <MenuItem key={mode.name} value={mode.name}>\r\n                                {mode.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </Grid>\r\n            {Modes.find((mode) => mode.name === config.mode).component}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Mode;\r\n","import React from \"react\";\r\n\r\nimport { Grid, Typography } from \"@mui/material\";\r\n\r\nimport Mode from \"./modeSelector\";\r\n\r\nconst SettingsContainer = () => {\r\n    return (\r\n        <Grid container spacing={2} sx={{ padding: 2 }}>\r\n            <Grid container justifyContent=\"center\" item mb={-1}>\r\n                <Typography gutterBottom variant=\"h5\">\r\n                    Settings\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"column\" item>\r\n                <Mode />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default SettingsContainer;\r\n","import React from \"react\";\r\nimport { Box, Slide } from \"@mui/material\";\r\n\r\nimport SettingsContainer from \"./SettingsContainer\";\r\n\r\nconst SettingsOverlay = () => {\r\n    return (\r\n        <Box\r\n            sx={{\r\n                position: \"absolute\",\r\n                top: 7,\r\n                left: 7,\r\n                width: \"100%\",\r\n                maxWidth: 350,\r\n                backgroundColor: \"#101020a0\",\r\n                borderRadius: 3,\r\n            }}\r\n        >\r\n            <SettingsContainer />\r\n        </Box>\r\n    );\r\n};\r\n\r\nconst SettingsRef = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div ref={ref} {...props}>\r\n            <SettingsOverlay />\r\n        </div>\r\n    );\r\n});\r\n\r\nconst AnimatedSettingsOverlay = ({ active }) => {\r\n    return (\r\n        <Slide\r\n            timeout={{ enter: 3e2, exit: 1e3 }}\r\n            easing={{ enter: \"cubic-bezier(0, 0.5, 1, 1)\" }}\r\n            direction=\"right\"\r\n            in={active}\r\n            appear={false}\r\n            mountOnEnter\r\n            unmountOnExit\r\n        >\r\n            <SettingsRef />\r\n        </Slide>\r\n    );\r\n};\r\n\r\nexport { AnimatedSettingsOverlay };\r\nexport default SettingsOverlay;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useWindowSize = () => {\r\n    const [windowSize, setWindowSize] = useState([window.innerWidth, window.innerHeight]);\r\n    useEffect(() => {\r\n        const handleResize = () => setWindowSize([window.innerWidth, window.innerHeight]);\r\n\r\n        window.addEventListener(\"resize\", () => handleResize());\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n\r\n    return windowSize;\r\n};\r\n\r\nexport default useWindowSize;\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nlet frameCount = 0;\r\nconst useCanvas = (draw) => {\r\n    const canvasRef = useRef(null);\r\n    const config = useSelector((storage) => storage.config);\r\n    const storage = useSelector((storage) => storage);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const context = canvas.getContext(\"2d\");\r\n        let animationFrameId;\r\n\r\n        const render = () => {\r\n            frameCount++;\r\n            draw(context, frameCount, storage);\r\n            animationFrameId = window.requestAnimationFrame(render);\r\n        };\r\n        render();\r\n\r\n        return () => {\r\n            window.cancelAnimationFrame(animationFrameId);\r\n        };\r\n    }, [draw, config, storage]);\r\n\r\n    return canvasRef;\r\n};\r\n\r\nexport default useCanvas;\r\n","const getRealRadius = (canvas) => {\r\n    return Math.sqrt(canvas.width ** 2 + canvas.height ** 2) / 2;\r\n};\r\n\r\nconst getColorStopWidth = (radius, colors) => {\r\n    return (radius * 2) / colors.length;\r\n};\r\n\r\nconst getRadius = (canvas, colors, mode) => {\r\n    //circumscribed circle around canvas rectangle\r\n    let realRadius = getRealRadius(canvas);\r\n\r\n    //how much space one color takes up\r\n    let colorStopWidth = getColorStopWidth(realRadius, colors);\r\n\r\n    let radius = 0;\r\n    if (mode === \"Blinking\") {\r\n        // set circumscribed circle's radius to a color stop\r\n        radius = realRadius * colorStopWidth;\r\n    } else if (mode === \"Gradient\" || mode === \"Radial\") {\r\n        //increase circumscribed circle's radius by a color stop\r\n        radius = realRadius + colorStopWidth;\r\n    }\r\n\r\n    return radius;\r\n};\r\n\r\nconst getLinearGradient = (context, rotation, radius) => {\r\n    let canvas = context.canvas;\r\n    //calculate location of points on a circle based on rotation\r\n    let x1 = Math.cos(-rotation + Math.PI) * radius + canvas.width / 2;\r\n    let y1 = Math.sin(-rotation + Math.PI) * radius + canvas.height / 2;\r\n    let x2 = Math.cos(-rotation) * radius + canvas.width / 2;\r\n    let y2 = Math.sin(-rotation) * radius + canvas.height / 2;\r\n\r\n    return context.createLinearGradient(x1, y1, x2, y2);\r\n};\r\nconst getSpeed = (frameCount, speed) => (frameCount / speed) * 1.5;\r\n\r\nconst addColorStops = (gradient, speed, colors) => {\r\n    for (let i = 0; i < colors.length; i++) {\r\n        let colorOffset = ((i + speed) % colors.length) / colors.length;\r\n        gradient.addColorStop(colorOffset, colors[i]);\r\n    }\r\n    return gradient;\r\n};\r\n\r\nconst createGradientType = (context, storeGradient, frameCount, mode) => {\r\n    let canvas = context.canvas;\r\n    const radius = getRadius(canvas, storeGradient.colors, mode);\r\n    const gradient = getLinearGradient(context, storeGradient.rotation, radius);\r\n    let speed = getSpeed(frameCount, storeGradient.speed);\r\n\r\n    return addColorStops(gradient, speed, storeGradient.colors);\r\n};\r\n\r\nexport { createGradientType, addColorStops, getSpeed, getRadius };\r\n\r\n/* ------------------------------ */\r\n\r\n/* BROKEN\r\nconst addColorStops = (gradient, speed, colors) => {\r\n    let minOffset = 1;\r\n    let baseColorIndex = null;\r\n\r\n    for (let i = 0; i < colors.length; i++) {\r\n        let colorOffset = ((i + speed) % colors.length) / colors.length;\r\n\r\n        if (colorOffset < minOffset) {\r\n            minOffset = colorOffset;\r\n            baseColorIndex = i;\r\n        }\r\n\r\n        gradient.addColorStop(colorOffset, colors[i]);\r\n    }\r\n    if (baseColorIndex + speed > 0.001) {\r\n        let baseIndex = (baseColorIndex - 1 + colors.length) % colors.length;\r\n        gradient.addColorStop(0, colors[baseIndex]);\r\n    }\r\n    return gradient;\r\n};\r\n*/\r\n\r\n/* ------------------------------ */\r\n","class Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    add(vector2) {\r\n        this.x += vector2.x;\r\n        this.y += vector2.y;\r\n    }\r\n\r\n    limit(canvas) {\r\n        this.x = (this.x + canvas.width) % canvas.width;\r\n        this.y = (this.y + canvas.height) % canvas.height;\r\n    }\r\n}\r\n\r\nexport default Vector2;\r\n","import Vector2 from \"./Vector2\";\r\n\r\nclass Dot {\r\n    constructor(x, y, color) {\r\n        this.pos = new Vector2(x, y);\r\n        this.vel = new Vector2(0, 0);\r\n\r\n        this.angle = Math.random() * Math.PI * 2;\r\n\r\n        this.setVelocity(50);\r\n        this.color = color || \"#000000\";\r\n    }\r\n\r\n    // speed - pixels per second\r\n    setVelocity(speed) {\r\n        speed /= 1000 / 60;\r\n        this.vel.x = speed * Math.cos(this.angle);\r\n        this.vel.y = speed * Math.sin(this.angle);\r\n    }\r\n\r\n    getBezier(curve) {\r\n        let x = this.pos.x + curve * Math.cos(this.angle);\r\n        let y = this.pos.y + curve * Math.sin(this.angle);\r\n        return [x, y];\r\n    }\r\n\r\n    update(canvas) {\r\n        this.pos.add(this.vel);\r\n        this.pos.limit(canvas);\r\n    }\r\n\r\n    render(context) {\r\n        context.fillStyle = this.color;\r\n\r\n        context.beginPath();\r\n        context.arc(this.pos.x, this.pos.y, 4, 0, 2 * Math.PI);\r\n        context.fill();\r\n    }\r\n}\r\n\r\nfunction hsvToRgb(h, s, v) {\r\n    let r, g, b;\r\n\r\n    let i = Math.floor(h * 6);\r\n    let f = h * 6 - i;\r\n    let p = v * (1 - s);\r\n    let q = v * (1 - f * s);\r\n    let t = v * (1 - (1 - f) * s);\r\n\r\n    switch (i % 6) {\r\n        default:\r\n        case 0: {\r\n            r = v;\r\n            g = t;\r\n            b = p;\r\n            break;\r\n        }\r\n        case 1: {\r\n            r = q;\r\n            g = v;\r\n            b = p;\r\n            break;\r\n        }\r\n        case 2: {\r\n            r = p;\r\n            g = v;\r\n            b = t;\r\n            break;\r\n        }\r\n        case 3: {\r\n            r = p;\r\n            g = q;\r\n            b = v;\r\n            break;\r\n        }\r\n        case 4: {\r\n            r = t;\r\n            g = p;\r\n            b = v;\r\n            break;\r\n        }\r\n        case 5: {\r\n            r = v;\r\n            g = p;\r\n            b = q;\r\n            break;\r\n        }\r\n    }\r\n\r\n    let get = (num) => {\r\n        let res = Math.floor(num).toString(16);\r\n        if (res.length < 2) res = \"0\" + res;\r\n        return res;\r\n    };\r\n\r\n    return \"#\" + get(r * 255) + get(g * 255) + get(b * 255);\r\n}\r\n\r\nconst createDot = (canv) => {\r\n    return new Dot(canv.width * Math.random(), canv.height * Math.random(), hsvToRgb(Math.random(), 1, 1));\r\n};\r\n\r\nexport { createDot };\r\n","class Cell {\r\n    constructor(x, y, width, height) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.dots = [];\r\n    }\r\n\r\n    intersects(point) {\r\n        return (\r\n            point.x >= this.x && point.y >= this.y && point.x < this.x + this.width && point.y < this.y + this.height\r\n        );\r\n    }\r\n}\r\n\r\nclass Grid {\r\n    constructor(canvas, maxDistance) {\r\n        this.cells = [];\r\n        this.maxDistance = (maxDistance / 1.5) * Math.sqrt(2);\r\n\r\n        this.rows = 0;\r\n        this.columns = 0;\r\n\r\n        this.init(canvas);\r\n    }\r\n\r\n    init(canvas) {\r\n        this.cells = [];\r\n        this.columns = Math.ceil(canvas.width / this.maxDistance); // X\r\n        this.rows = Math.ceil(canvas.height / this.maxDistance); // Y\r\n        for (let i = 0; i < this.rows * this.columns; i++) {\r\n            let x = (i % this.columns) * this.maxDistance;\r\n            let y = Math.floor(i / this.columns) * this.maxDistance;\r\n            let width = Math.min(x + this.maxDistance, canvas.width) - x;\r\n            let height = Math.min(y + this.maxDistance, canvas.height) - y;\r\n            this.cells.push(new Cell(x, y, width, height));\r\n        }\r\n    }\r\n\r\n    populate(dots) {\r\n        for (const dot of dots) {\r\n            this.addDot(dot);\r\n        }\r\n    }\r\n\r\n    addDot(dot) {\r\n        let x = Math.floor(dot.pos.x / this.maxDistance);\r\n        let y = Math.floor(dot.pos.y / this.maxDistance);\r\n        let cell = this.cells[y * this.columns + x];\r\n        if (!cell) {\r\n            console.error(\"Dot did not get populated. Could not find a cell.\", dot, y, x);\r\n        } else {\r\n            cell.dots.push(dot);\r\n        }\r\n    }\r\n\r\n    removeDot(dot) {\r\n        let cell = this.getCell(Math.floor(dot.pos.x / this.maxDistance), Math.floor(dot.pos.y / this.maxDistance));\r\n        cell.dots.splice(cell.dots.indexOf(dot), 1);\r\n    }\r\n\r\n    getCell(x, y) {\r\n        return this.cells[y * this.columns + x];\r\n    }\r\n\r\n    getCoordsByIndex(index) {\r\n        return { x: index % this.columns, y: Math.floor(index / this.columns) };\r\n    }\r\n\r\n    getCellNeighbours(index) {\r\n        /*\r\n            [ ][ ][*]\r\n            [ ][x][*]\r\n            [ ][*][*]\r\n        */\r\n        let { x, y } = this.getCoordsByIndex(index);\r\n        let cells = [];\r\n        let xBoundary = x + 1 < this.columns;\r\n        let yBoundary = y + 1 < this.rows;\r\n        if (xBoundary) {\r\n            cells.push(this.getCell(x + 1, y));\r\n            if (y > 0) cells.push(this.getCell(x + 1, y - 1));\r\n        }\r\n        if (yBoundary) {\r\n            cells.push(this.getCell(x, y + 1));\r\n        }\r\n        if (xBoundary && yBoundary) {\r\n            cells.push(this.getCell(x + 1, y + 1));\r\n        }\r\n        return cells;\r\n    }\r\n\r\n    update() {\r\n        for (let i = 0; i < this.cells.length; i++) {\r\n            let cell = this.cells[i];\r\n\r\n            for (let j = 0; j < cell.dots.length; j++) {\r\n                let dot = cell.dots[j];\r\n                if (!cell.intersects(dot.pos)) {\r\n                    cell.dots.splice(cell.dots.indexOf(dot), 1);\r\n                    this.addDot(dot);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Grid;\r\n","import { createDot } from \"./Dots/Dot\";\r\nimport Grid from \"./Dots/Grid\";\r\n\r\nlet Dots = [];\r\nlet grid = null;\r\n\r\nconst updateCount = (context, dots) => {\r\n    if (Dots.length > dots.count) {\r\n        for (let i = Dots.length - 1; i > dots.count - 1; i--) {\r\n            grid.removeDot(Dots[i]);\r\n        }\r\n        Dots.length = dots.count;\r\n    } else {\r\n        for (let i = Dots.length; i < dots.count; i++) {\r\n            const dot = createDot(context.canvas);\r\n            Dots.push(dot);\r\n            if (grid !== null) grid.addDot(dot);\r\n        }\r\n    }\r\n};\r\n\r\nconst connectDots = (context, dot1, dot2, maxDistance, curve) => {\r\n    let distance = Math.sqrt((dot2.pos.x - dot1.pos.x) ** 2 + (dot2.pos.y - dot1.pos.y) ** 2);\r\n\r\n    if (distance > maxDistance) {\r\n        /*\r\n            I have been debugging for hours.\r\n            I have no clue why or how.\r\n            But sometimes. Very very rarely.\r\n            When point jumps across the screen.\r\n            It's position is clearly on the other side of the screen.\r\n            But it is contained within previous cell.\r\n            I have no idea how it is possible. Because points update their location\r\n            and then cells check if all dots are still within their boundaries.\r\n            But it happens. Fixes itself next render.\r\n            I want to cry now.\r\n        */\r\n        return;\r\n    }\r\n\r\n    let alpha = Math.floor(255 - (255 * distance) / maxDistance)\r\n        .toString(16)\r\n        .padStart(2, \"0\");\r\n    let color = context.createLinearGradient(dot1.pos.x, dot1.pos.y, dot2.pos.x, dot2.pos.y);\r\n    color.addColorStop(0, dot1.color + alpha);\r\n    color.addColorStop(1, dot2.color + alpha);\r\n    context.strokeStyle = color;\r\n    context.lineWidth = (1 - distance / maxDistance + 0.2) * 4;\r\n    context.lineCap = \"round\";\r\n    if (curve) {\r\n        connectDotsCurved(context, dot1, dot2, distance, maxDistance, curve);\r\n    } else {\r\n        connectDotsLine(context, dot1, dot2);\r\n    }\r\n};\r\n\r\nconst connectDotsLine = (context, dot1, dot2) => {\r\n    context.beginPath();\r\n    context.moveTo(dot1.pos.x, dot1.pos.y);\r\n    context.lineTo(dot2.pos.x, dot2.pos.y);\r\n    context.stroke();\r\n};\r\n\r\nconst connectDotsCurved = (context, dot1, dot2, distance, maxDistance, curve) => {\r\n    context.beginPath();\r\n    context.moveTo(dot1.pos.x, dot1.pos.y);\r\n    context.bezierCurveTo(\r\n        ...dot1.getBezier((distance / maxDistance) * curve),\r\n        ...dot2.getBezier((distance / maxDistance) * curve),\r\n        dot2.pos.x,\r\n        dot2.pos.y\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nconst connectNew = (context, maxDistance, curve) => {\r\n    for (let i = 0; i < grid.cells.length; i++) {\r\n        const cell = grid.cells[i];\r\n        const neighbours = grid.getCellNeighbours(i);\r\n\r\n        for (let j = 0; j < cell.dots.length; j++) {\r\n            let dot1 = cell.dots[j];\r\n            // within itself\r\n            for (let k = j; k < cell.dots.length; k++) {\r\n                let dot2 = cell.dots[k];\r\n                connectDots(context, dot1, dot2, maxDistance, curve);\r\n            }\r\n\r\n            // outside itself\r\n            for (let k = 0; k < neighbours.length; k++) {\r\n                let neighbour = neighbours[k];\r\n                for (let z = 0; z < neighbour.dots.length; z++) {\r\n                    let dot2 = neighbour.dots[z];\r\n                    connectDots(context, dot1, dot2, maxDistance, curve);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nlet lastSpeed = 0;\r\nlet lastDistance = 0;\r\nconst updateProperties = (context, dots, needsUpdate) => {\r\n    if (Dots.length !== dots.count) {\r\n        updateCount(context, dots);\r\n    }\r\n\r\n    if (lastSpeed !== dots.speed) {\r\n        Dots.map((dot) => dot.setVelocity(dots.speed));\r\n        lastSpeed = dots.speed;\r\n    }\r\n\r\n    if (needsUpdate || lastDistance !== dots.maxDistance) {\r\n        grid = new Grid(context.canvas, dots.maxDistance);\r\n        grid.populate(Dots);\r\n        lastDistance = dots.maxDistance;\r\n    }\r\n};\r\n\r\nconst updateDots = (context, dots, needsUpdate) => {\r\n    updateProperties(context, dots, needsUpdate);\r\n\r\n    context.fillStyle = \"#000\";\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n\r\n    //dots\r\n    for (const dot of Dots) {\r\n        dot.update(context.canvas);\r\n        if (dots.showDots) dot.render(context);\r\n    }\r\n\r\n    grid.update();\r\n\r\n    //grid\r\n    if (dots.showGrid) {\r\n        for (let i = 0; i < grid.cells.length; i++) {\r\n            let { x, y, width, height } = grid.cells[i];\r\n            context.lineWidth = 2;\r\n            context.strokeStyle = \"red\";\r\n            context.strokeRect(x, y, width, height);\r\n        }\r\n    }\r\n\r\n    //lines\r\n    context.fillStyle = \"#000000\";\r\n    context.lineWidth = 2;\r\n    connectNew(context, dots.maxDistance, dots.curve);\r\n};\r\n\r\nexport { updateDots };\r\n","let pattern = null;\r\nconst updatePattern = (context, image) => {\r\n    console.log(\"new pattern\");\r\n    pattern = context.createPattern(image, \"repeat\");\r\n};\r\n\r\nlet image = new Image();\r\n\r\nlet offsetX = 0;\r\nlet offsetY = 0;\r\n\r\nlet scalingX = 1;\r\nlet scalingY = 1;\r\n\r\nconst draw = (context, { speedX, speedY, scale, clampX, clampY }) => {\r\n    context.fillStyle = \"black\";\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n    context.fillStyle = pattern;\r\n\r\n    if (speedX) {\r\n        offsetX += speedX;\r\n        //offsetX %= context.canvas.width;\r\n    }\r\n    if (speedY) {\r\n        offsetY += speedY;\r\n        //offsetY %= context.canvas.height;\r\n    }\r\n\r\n    if (scale) {\r\n        if (context.canvas.width <= image.width) {\r\n            if (clampX) {\r\n                scalingX = image.width / context.canvas.width;\r\n            } else {\r\n                scalingX = 1;\r\n            }\r\n        } else {\r\n            scalingX = context.canvas.width / image.width;\r\n        }\r\n        if (context.canvas.height <= image.height) {\r\n            if (clampY) {\r\n                scalingY = image.height / context.canvas.height;\r\n            } else {\r\n                scalingY = 1;\r\n            }\r\n        } else {\r\n            scalingY = context.canvas.height / image.height;\r\n        }\r\n        context.setTransform(scalingX, 0, 0, scalingY, offsetX, offsetY);\r\n        context.fillRect(-offsetX / scalingX, -offsetY / scalingY, context.canvas.width, context.canvas.height);\r\n        context.resetTransform();\r\n    } else {\r\n        context.translate(offsetX, offsetY);\r\n        context.fillRect(-offsetX, -offsetY, context.canvas.width, context.canvas.height);\r\n        context.translate(-offsetX, -offsetY);\r\n    }\r\n};\r\n\r\nlet prevURL = \"\";\r\nconst updateImage = (context, { imageUrl, ...Storage }) => {\r\n    if (imageUrl !== prevURL) {\r\n        // code\r\n        image = new Image(); // could be removed?\r\n        image.onload = () => {\r\n            updatePattern(context, image);\r\n        };\r\n        image.src = imageUrl;\r\n        prevURL = imageUrl;\r\n    }\r\n\r\n    if (pattern !== null) {\r\n        draw(context, Storage);\r\n    }\r\n};\r\n\r\nexport { updateImage };\r\n","const createGradient = (context, canvas, floorHeight) => {\r\n    const grad = context.createLinearGradient(canvas.width / 2, floorHeight, canvas.width / 2, canvas.height);\r\n    grad.addColorStop(0, \"#C9B170\");\r\n    grad.addColorStop(0.5, \"#AE635F\");\r\n    grad.addColorStop(1, \"#BD0477\");\r\n    return grad;\r\n};\r\n\r\nconst drawLines = (context, canvas, offset, { floorHeight, amount, scaleX, scaleY }) => {\r\n    context.filter = \"blur(1px) drop-shadow(0px 0px 4px #BD0477)\";\r\n    context.lineWidth = 3;\r\n    context.beginPath();\r\n    for (let i = 0; i < amount; i++) {\r\n        let pixelOffset = -4 * (i / amount) + 1;\r\n        context.moveTo(pixelOffset + scaleX * i + scaleX * offset, floorHeight);\r\n\r\n        let x = scaleX * i * 2 - canvas.width / 2;\r\n        context.lineTo(pixelOffset + x + scaleX * 2 * offset, canvas.height);\r\n    }\r\n    context.stroke();\r\n\r\n    context.lineWidth = 2;\r\n    context.beginPath();\r\n    const height = (scaleY - floorHeight / amount) * 2;\r\n    for (let i = 0; i < amount / 2; i++) {\r\n        context.moveTo(0, floorHeight + height * i);\r\n        context.lineTo(canvas.width, floorHeight + height * i);\r\n    }\r\n    context.stroke();\r\n\r\n    context.filter = \"none\";\r\n};\r\n\r\nconst drawFloor = (context, canvas, store, frameCount) => {\r\n    const floorHeight = store.floorHeight * canvas.height;\r\n    const offset = (frameCount % 100) / 100;\r\n    const scaleX = canvas.width / store.numberOfLines;\r\n    const scaleY = canvas.height / store.numberOfLines;\r\n\r\n    context.fillStyle = \"#280A24\";\r\n    context.fillRect(0, floorHeight, canvas.width, canvas.height);\r\n\r\n    const grad = createGradient(context, canvas, floorHeight);\r\n\r\n    context.strokeStyle = grad;\r\n    drawLines(context, canvas, offset, { floorHeight, amount: store.numberOfLines, scaleX, scaleY });\r\n};\r\n\r\nexport { drawFloor };\r\n","const getBGGradient = (context, canvas) => {\r\n    const grad = context.createLinearGradient(canvas.width / 2, 0, canvas.width / 2, canvas.height);\r\n    grad.addColorStop(0, \"black\");\r\n    grad.addColorStop(0.05, \"#100284\");\r\n    grad.addColorStop(0.1, \"#1103AD\");\r\n    grad.addColorStop(0.4, \"#370CBC\");\r\n    grad.addColorStop(0.5, \"#4B11C4\");\r\n    grad.addColorStop(0.7, \"#841EDA\");\r\n    return grad;\r\n};\r\n\r\nconst getSunBox = (canvas, floorHeight) => {\r\n    const sunSize = canvas.width / 4;\r\n    return {\r\n        x: canvas.width / 2 - sunSize / 2,\r\n        y: floorHeight * (canvas.height - sunSize * 0.2) - sunSize / 2,\r\n        width: sunSize,\r\n        height: sunSize,\r\n    };\r\n};\r\n\r\nconst getSunGradient = (context, sunBox) => {\r\n    const grad = context.createLinearGradient(\r\n        sunBox.x + sunBox.width / 2,\r\n        sunBox.y,\r\n        sunBox.x + sunBox.width / 2,\r\n        sunBox.y + sunBox.height\r\n    );\r\n    grad.addColorStop(0, \"#EC07A8\");\r\n    grad.addColorStop(0.2, \"#F683A4\");\r\n    grad.addColorStop(0.4, \"#F683A4\");\r\n    grad.addColorStop(0.7, \"#FEF9D3\");\r\n    grad.addColorStop(1, \"#FEF9D3\");\r\n    return grad;\r\n};\r\nconst getSunHazeGradient = (context, sunBox, alpha = \"A0\") => {\r\n    const grad = context.createLinearGradient(\r\n        sunBox.x + sunBox.width / 2,\r\n        sunBox.y,\r\n        sunBox.x + sunBox.width / 2,\r\n        sunBox.y + sunBox.height\r\n    );\r\n    grad.addColorStop(0, \"#A9071F\" + alpha);\r\n    grad.addColorStop(0.2, \"#C81023\" + alpha);\r\n    grad.addColorStop(0.4, \"#CF002F\" + alpha);\r\n    grad.addColorStop(0.7, \"#E80358\" + alpha);\r\n    grad.addColorStop(1, \"#D2065D\" + alpha);\r\n    return grad;\r\n};\r\n\r\nconst drawSun = (context, sunBox) => {\r\n    context.filter = \"blur(3px)\";\r\n    context.fillStyle = getSunGradient(context, sunBox);\r\n    context.beginPath();\r\n    context.arc(sunBox.x + sunBox.width / 2, sunBox.y + sunBox.height / 2, sunBox.width / 2, 0, Math.PI * 2);\r\n    context.fill();\r\n    context.filter = \"none\";\r\n};\r\n\r\nconst drawSunLines = (context, sunBox, frameCount) => {\r\n    context.filter = \"blur(1px)\";\r\n    const maxLineGap = 30;\r\n    const offset = (frameCount % 100) / 100;\r\n    const gaps = 20;\r\n\r\n    for (let i = 0; i < gaps; i++) {\r\n        let y = i * maxLineGap + offset * maxLineGap;\r\n        let height = (y / sunBox.height) ** 2 * maxLineGap;\r\n        context.fillRect(sunBox.x - 10, sunBox.y + 10 + y, sunBox.width + 20, height);\r\n    }\r\n    context.filter = \"none\";\r\n};\r\n\r\nconst drawSunHaze = (context, sunBox) => {\r\n    const alpha = \"80\";\r\n    context.globalCompositeOperation = \"hard-light\";\r\n    context.filter = \"blur(100px)\";\r\n    context.fillStyle = getSunHazeGradient(context, sunBox, alpha);\r\n    context.beginPath();\r\n    context.arc(sunBox.x + sunBox.width / 2, sunBox.y + sunBox.height / 2, sunBox.width / 2, 0, Math.PI * 2);\r\n    context.fill();\r\n    context.filter = \"none\";\r\n    context.globalCompositeOperation = \"source-over\";\r\n};\r\n\r\nconst drawBackground = (context, canvas, store, frameCount) => {\r\n    const grad = getBGGradient(context, canvas);\r\n    context.fillStyle = grad;\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    const sunBox = getSunBox(canvas, store.floorHeight);\r\n    drawSun(context, sunBox);\r\n    context.fillStyle = grad;\r\n    drawSunLines(context, sunBox, frameCount);\r\n    drawSunHaze(context, sunBox);\r\n};\r\n\r\nexport { drawBackground };\r\n","import HousesImage from \"../../../../../content/house_sample.png\";\r\n\r\nlet housesImages = null;\r\n\r\nlet houseBox = {\r\n    width: 96,\r\n    height: 384,\r\n};\r\n\r\nlet housesImage = null;\r\n\r\nconst createHousesGradient = (content) => {\r\n    const grad = content.createLinearGradient(houseBox.width / 2, 0, houseBox.width / 2, houseBox.height);\r\n    grad.addColorStop(0, \"red\");\r\n    grad.addColorStop(1, \"blue\");\r\n    return grad;\r\n};\r\n\r\nconst removeWhite = (context) => {\r\n    let imageData = context.getImageData(0, 0, houseBox.width, houseBox.height);\r\n    let data = imageData.data;\r\n    for (let i = 0; i < data.length; i += 4) {\r\n        const [r, g, b] = [data[i], data[i + 1], data[i + 2]];\r\n        if (r === 255 && g === 255 && b === 255) {\r\n            data[i + 0] = 0;\r\n            data[i + 1] = 0;\r\n            data[i + 2] = 0;\r\n            data[i + 3] = 0;\r\n        }\r\n    }\r\n    context.putImageData(imageData, 0, 0);\r\n};\r\n\r\nconst loadImage = (url) => {\r\n    return new Promise((resolve) => {\r\n        const image = new Image();\r\n        image.src = url;\r\n        image.onload = () => resolve(image);\r\n    });\r\n};\r\n\r\nconst loadHouseImages = (urls) => {\r\n    let pendingImages = urls.map(loadImage);\r\n    Promise.all(pendingImages).then((images) => {\r\n        housesImages = [...images];\r\n    });\r\n};\r\n\r\nconst parseHouses = () => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.width = houseBox.width;\r\n    canvas.height = houseBox.height;\r\n    const gradient = createHousesGradient(context);\r\n    context.fillStyle = gradient;\r\n\r\n    let imageURLs = [];\r\n    for (let i = 0; i < housesImage.width / houseBox.width; i++) {\r\n        context.fillRect(0, 0, houseBox.width, houseBox.height);\r\n        context.drawImage(\r\n            housesImage,\r\n            i * houseBox.width,\r\n            0,\r\n            houseBox.width,\r\n            houseBox.height,\r\n            0,\r\n            0,\r\n            houseBox.width,\r\n            houseBox.height\r\n        );\r\n        removeWhite(context);\r\n        imageURLs.push(canvas.toDataURL());\r\n    }\r\n    loadHouseImages(imageURLs);\r\n};\r\n\r\nconst loadHouses = () => {\r\n    housesImage = new Image();\r\n    housesImage.src = HousesImage;\r\n    housesImage.onload = parseHouses;\r\n};\r\n\r\nexport { housesImages, housesImage, houseBox, loadHouses };\r\n","import { housesImages, loadHouses, housesImage, houseBox } from \"./houseLoading\";\r\n\r\nlet housesCache = null;\r\nlet oldCount = 0;\r\n\r\nconst addHousesToCache = (amount) => {\r\n    for (let i = 0; i < amount; i++) {\r\n        housesCache.push(Math.floor(Math.random() * (housesImages.length + 1)) - 1);\r\n    }\r\n};\r\n\r\nconst processCache = (numberOfLines) => {\r\n    if (oldCount === numberOfLines) return;\r\n\r\n    if (housesCache === null) {\r\n        housesCache = [];\r\n        addHousesToCache(numberOfLines);\r\n    } else {\r\n        if (oldCount < numberOfLines) {\r\n            addHousesToCache(numberOfLines - oldCount);\r\n        } else {\r\n            //housesCache.length = numberOfLines; // it works but feels cheap\r\n            housesCache = housesCache.slice(0, numberOfLines);\r\n        }\r\n    }\r\n\r\n    oldCount = numberOfLines;\r\n};\r\n\r\nconst draw = (context, canvas, scale, floorHeight, offset) => {\r\n    let width = scale;\r\n    let height = (houseBox.height / houseBox.width) * width;\r\n    for (let i = 0; i < housesCache.length; i++) {\r\n        let houseIndex = housesCache[i];\r\n        if (houseIndex === -1) {\r\n            continue;\r\n        }\r\n        let house = housesImages[houseIndex];\r\n        context.drawImage(\r\n            house,\r\n            0,\r\n            0,\r\n            houseBox.width,\r\n            houseBox.height,\r\n            (i - 1) * scale + scale * offset,\r\n            floorHeight - height,\r\n            width,\r\n            height\r\n        );\r\n    }\r\n};\r\n\r\nlet oldOffset = null;\r\nconst shouldUpdate = (offset) => {\r\n    if (oldOffset !== null && Math.abs(oldOffset - offset) > 0.9) {\r\n        oldOffset = offset;\r\n        return true;\r\n    }\r\n    oldOffset = offset;\r\n    return false;\r\n};\r\n\r\nconst drawHouses = (context, canvas, store, frameCount) => {\r\n    if (housesImage == null) {\r\n        loadHouses();\r\n        return;\r\n    }\r\n    if (housesImages === null) {\r\n        // waiting for the houses to load.\r\n        return;\r\n    }\r\n\r\n    processCache(store.numberOfLines + 1);\r\n    const scale = canvas.width / store.numberOfLines;\r\n    const offset = (frameCount % 100) / 100;\r\n    const floorHeight = store.floorHeight * canvas.height;\r\n\r\n    if (shouldUpdate(offset)) {\r\n        housesCache.unshift(housesCache.pop());\r\n    }\r\n\r\n    draw(context, canvas, scale, floorHeight, offset);\r\n};\r\n\r\nexport { drawHouses };\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAGACAYAAAD7823fAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AABGYSURBVHhe7Z1pjCRlHYd7dhfkkF2UW/DaRVgRCGoEjw8iggEvjEaNIN6oJIaAV4wX3if6QSV8IESMQRMJ0YjGCAQ2nCJ4EAO6IKAS7kVggWXZZXf8/Xq6nJramj6qq7uO//Mkv0z3zHRPd8/71HtWvTOzogMQlCW9rwAhQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMA0JeZmZnerXaCAFAJdRELASA0CAChQQAIDQJAaBAAQoMAEBoEgNCwSyQsYJTx+WGLziSesyyoASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChqZUAddk+H+JQuxoACWCa1LIJhAQwLWq1S2S24LOB5fBw0ChWXmrdCeafCpOmVgIsWbLty0ECmCS1EmDr1q2dpUuX9u7NgwQwKWrXBNqyZUvv1kKQACZBrfsAWZAAyqZRAhgkgDKp9TBoPxgiXcgin924R4tJfsilv7bWDYP2g5oAyqCxAhgkgHFptAAGCWAcGi+AQQIoSisEMEgARWiNAAYJYFRaJYBBAhiF1glgkACGpZUCGCSAYWitAAYJYBCtFsAgAfSj9QIYJIDFCCGAQQLII4wABgkgSygBDBJAmnACGCSAhJACGCQAE1YAgwQQWgCDBLEJL4BBgrggQA8kiAkCpECCeCBABiSIBQLkgARxQIBFQIIYIEAfkKD9NPbSiCn8+p9QNiiPKhuVTcpWxU+4o/IMZVdlu973RqIJl2FE1mL/pyYK4AL+mLJZcUG/XblWuUG5TXlQ8e/4OuvebODpykHKG3p5trLtJgQDqLsECBBDgHuVi5TfKA8oPvLfrTyiWAaT9378xBbhtcqnlcOVVkmAAO0XwEf185QvKff5GwVwoT9CObP3deQ+UF0lQIBi/5smdYIfVn6l3N+9Vww3i65Tvqfc5W+MCgWtXTRJAHdw71D6ae73446uO747K9sr2RJrCS5XrlbcjxgZJGgPTRLABT9/A7FOZwdlf+V45fOKm0q/Vr6vvFTJvs/1yjXK4917BUCCdtCkPoBHeFzAb+rem2cPxR3bY5W9FR/9n6YsU55S1igfUv6tJFiI1ynnKs/yN4pSl48PIdvfB3CB9pE+/Z/2bR/hT1AOVnZX3PTx7xp/PVQ5UEk/zp+UawELMhYUvGbTJAE8guOjexa/h35Dmm42eQQpS2nvHQmaS5MEcOd2l7mbC/CRfLHOrAv/9crflXT96BLr2sJNpVJAgmbStBpguZItaZ4My3aOvQzCo0Ye7fm24tnhNG4aHaK4uVQaSNA8miSAS9dOva9pnlQ8muN5Ahd0zwxfqXxVOUX5g2Ih0rjje5Ti5ysVJGgWTRoF8nKHM5SzlHTndS/lHYoL+UOKJ7g8YuQJMzeNsu/P/YjTlM8orlEmwrQ/VsQr9pk3SQAvgPuO8i0l3eb3g1yT+asl8PtZ7D25H/F6xUshPG8wUab50SJAsc+7aU2gvFEgv2v3AVwrJALk4SHUo5XPKqv8jUlDoaw/TRLAJEf6UXCHd1/lA8o3Fc8bTK1kIkG9aZoAg0qTf+74fXmIcz/Fk2RnK19WPCk28jLocUGC+tI0AYZhheKmzueUHytu7x+neNy/spKIBPWkbQK4/e8hUZ/++HblNYrXCiVLI6bGDju4y7EQJKgfbRAgW6o8QvQ75XzFQ6eVsHHjxs7223s19kKQoF60QQAfarPtes8Cn6NcqHiirBI2bdqEBDWnDQJ4Msud2+x78UTYd5WLlUInvpSBJVi6dGlnxQp3TeYZRQL/7qBA/uc0iDYI4EPsR5W8Jc+eEbYEN/buV8KWLVs669ev7+y+u/vh8wzzD4LJ0gYBjK/ycLriZRFpPDHmc4B/qHiNUGV4lnLdunWd5csntvoCCtAWAdwP8KjPyUp2ybQvl+KT6T0kWlmnOME1wU47lb4GDwrSFgGMhz4/rLxVya7z9zkDXkR3geLl05WyYcOGzrJlyzrbbeelSVAlbRLAeMnDqUreNX98LaGkUzz2qZDj8tRTT3U2b66sbw492iaAe5U+0cX9gef27ie4E/xP5QvKJQqlD1ongHG74hjFEiwcdpnrFPuqEl9UrlIqrwmgWtoogPGpjicqPiMs2ym2BH9RvtL76vsQlCadEOM1Pu7IugmTXAjX+GrPbtev7t5biIc+v6b8RPHl09N4fZBrCp86+WKlkoPBMB//oPmCI488sndrIWvW+JJI7f95PwZ9vm2tARJ87q8vmvVOJbs6zc2fSxWfZvk3pTYHApgeba8BEtz59fJozwekH2tcE3jVqM8XeFnv/tQoswa47Io1nRk3/vbWcW3l1s7s/jOdmQNnOrMHqJW3Us+z15LO7C66red7VH/X15r/j3KLnv7m2SWdtToG3KncrZ8/3plR21A/mPUT7qmC8jw9bnVnVtET6rbud+cdl/tNzP137tG3b9ffu1X31yq36P4dSzoz+v6sfu73ukLPuaf+xko99SrdX61j8AG6v0rZRz/bUdGr1JN55Ppe3fqXvt6m796s22v11ffv0+1HO0f13ne/mqBtNYA7uNnXPEyB9SmQrglc0LO/75rgMuXjij/JrCCNov//e3B3Z7a/az36F6pRmJ3p/1yJ/JPqqDVJAK/43EdJd2r96fh6oIOmVv17hyneW+DVSlYCn1P8R8WnTN6s0DEOQpME8NHf1/98pWIZ/Nq9xNJXeXimMgg/xmuGvq647sxK4EL/J8XXFMq7lCJMlGqKYtNqAF/K5FPKx5S3Kb7Cw0mKtz8aBr9ft/N9pPdpk3lrEXwuQaPmB9wGHmZEpN5UU+k2SQDjkZyXK27K/EjxOL9nfEfB79lXhvAlE72AzjtIujbwc3tJtWuZbc9igVbSNAGMawIvfNtTGfbIn8V9Ai+Z+IbiC229T/FlUz6huImVHTKtNR4FWmysvM2UUfM1UYCysASuPd6rWALPDL9ZyS6fgBYTWYAEL53erZdGHfmjU0bNhwAQGgSA0CAAhAYBWkCT5wHmFjqY+VvTBAGgUuZXApW3vmgUEKAFMA9QHASA0CAANBbmAQDGBAEgNAgAoUGAFtDkeYB5qimKtRLAJzDnZVjyHjupQNlwQgwUhHmA4jRCgEFHXY7KUBRqAGgszAMAjAkCQGgQAEKDAC2gHfMA1YAAUCmcEANj0+R5gPnB69GHscPMAwBMCgSAxsI8AAzN3ET58P/u2UyTZLh9A8Zl+rP5tdohZhCL7ZRSxVsYtGvLsAzz2ofdISZpDy92VGzrz5Pv5zHo86UGgNBQAxSkTjUALA41AEAfqAEKUuMawNsr3qrcpTzpb/TwwW5HJdlTwWeg+L63evQl4b3PWusOiIM+XwQoSE0FcOE/XzlX8X6i6R0v/STe+caXgPcf9TZQ3iJqP+X5ivdU9s98uXjL4J9ZDG8Y4n0U8l6En8c7rd6k+PHeYcdSDYsff59iWfdVLGM5H2yPgZ+vBWgKfrl5qYK811Ekw5D3uEXyD8WbBnoXnaK4ALom8HO4MHvI5Q4l7+/5+/65pfEOnr9UnlDyfjcv3pHTe715yyrv0uOd/fN+r3AGQR+gXfio7cI4Di44bh5561gX5msVH+HzuEbx9rJuat2jeCPyh5VhuF/xXm+Wxrtz/ly5WpkqCNAuvGfye5S3KC9U3LTxlu5uwvgI7Q0B89r6/Zod3oLWzZs8HlDS/Qw3u4bZYnazYlkuUpKz4S3cg3M3pwd9gILUtA9gNig+Gq9TXNASfNtbwP5V8Q6bLrzGNYb3RrMs/t69io/8lsT9g+OV45S8tv1ZymlKsq3sQcoFva/9cJv/BMV7MicfgDc9tBSv6N4riYGfrwVoCn65eamCvNdRJMOQ97gx4kLnWiHBo0K/UPwzF3wL4CO5Y5H6tekvVNI79y9XfFTP+90kFvEHSnqPZvc3TlYeU/IeUziDoAkEaTwK5JEYN5kcN6n6bRzoZtZz5m52cQG+QXFzZjH+rJyppGsnN7G8Te3O3XtTBAFgHCzJEXM3u7g9707xf7v3tsUdX+/NfGf33hzepPzdyqHde1MGAcBNhaK4Q+2d+9M763vE6Ja5mwvwnMRPld8ryd9058Zt/o8ofq6pgwDxyPaoXRjTE2ajslrZY+5mF09sXadkm0E3Ku40p0eJPDLlodB0M2qqIEA8fLROd0A9guO2e1HcoXZfIBHLMv1WsQgJfv6zFXesE9y3+KTyKqWcIbUCIEA8VigerUlwu32cGsCd5qOVRCrXKNcrnkAzvn+V4iHOdNPHQ6snKeNO3I0FAsTDBS4tgEkKZhFco7xReUH33hw+4ns+4BHFHeJzlPQM8W7KKYrXGlUKAsSk7CaHC/+xSvK8FupixUf+S5XLe98zydG/1AmvoiBAPNzmzy5XGFcI1wJvUnxkT/AR/zzFk17po787zO9XkmXZlYIA8XhccdMkwWWgjHb4S5RsLXCZ4v5AcvT3mP+7lMO792oAAsTjoV4SXCjLOBp7ScQxSnrNkP9OMuNrMQ5WPqhMfcZ3MRAgHi6UXt+T4KN/WQXSi+C8qC0h3bneVTlV8bxBbUCAeGTnAdwmTxfacVipvGju5gJczrxE20n/7cpBgHisUg5TLIIno3xGl9f0lIGP8l4akT0jzTO+Xu3p8xFqBecDFKTG5wMMwiNAVypXKG6vu+N6iFLWkfkS5UQlOd/Az3u6coYy9fU+gz5fBChIgwUwlsAnx/hI7c5rmc0Sn9X1PeVnijvA7hh7vU/6HISpgQATouECTBpLsFbxgjhfKaKsPsbIIMCEQIBmMOjzbUQn2AWgXyEY9HOAxWAUCEKDABCaWvUBIjZj6ANMllb0AQAmBQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQtOUtUD9FsP0e/21fxxrgSYLa4EA+oAAEBqaQPlM+3FQEdQAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAISGSyNCaKgBIDQIAKFBAAgNAkBoEABCwxlh+Uz7cVAR1AAQGgSA0CAAhAYBIDQIAKFBAAgNAkBoEABCgwAQGgSA0CAAhAYBIDQIAKFBAAgNJ8VDaKgBIDQIAKFBAAgNAkBoEABCw0nx+Uz7cVAR1AAQGgSA0CAAhAYBIDQIAKFBAAgNAkBoEABCgwAQGgSA0CAAhAYBIDQIAKFBAAgNJ8VDaKgBIDQIAKFBAAgNAkBoEABCw0nx+Uz7cVAR1AAQGgSA0CAAhAYBIDQIAKFBAAgNAkBoEABCgwAQGgSA0CAAhAYBIDQIAKFBAAgNJ8VDaKgBIDQIAKFBAAgNAkBoEABCgwAQGgSA0CAAhAYBIDS1EYBZYKiCWghA4YeqqFwACj9USaUCUPihaioTgMIPdaASASj8UBemLgCFH+rEVAWg8EPdmJoAFH6oI1MRgMIPdWXiAlD4oc5MVAAKP9SdiQlA4YcmMBEBKPzQFEoXgMIPTaJUASj80DRKE4DCD02kFAEo/NBUxhaAwg9NZiwBKPzQdAoLQOGHNlBIAAo/tIWRBaDwQ5sYSQAKP7SNoQWg8EMbGUoACj+0lYECUPihzfQVgMIPbWdRASj8EIFcASj8EIVtBKDwQyQWCEDhh2j8XwAKP0SkKwCFH6Likj87dxMgHrmjQABRQAAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASA0CAChQQAIDQJAaBAAQoMAEBoEgNAgAIQGASAwnc7/AMhLbO9YEpLJAAAAAElFTkSuQmCC\"","import { drawFloor } from \"./Synthwave/floor\";\r\nimport { drawBackground } from \"./Synthwave/background\";\r\nimport { drawHouses } from \"./Synthwave/houses\";\r\n\r\nconst updateSynth = (context, store, frameCount) => {\r\n    let args = [context, context.canvas, store, frameCount];\r\n    drawBackground(...args);\r\n    drawHouses(...args);\r\n    context.globalAlpha = 0.9;\r\n    drawFloor(...args);\r\n    context.globalAlpha = 1;\r\n};\r\n\r\nexport { updateSynth };\r\n","import { createGradient } from \"./display modes/gradient\";\r\nimport { createBlinking } from \"./display modes/blinking\";\r\nimport { createRadial } from \"./display modes/radial\";\r\nimport { updateDots } from \"./display modes/dots\";\r\nimport { updateImage } from \"./display modes/image\";\r\nimport { updateSynth } from \"./display modes/synthwave\";\r\n\r\nconst drawDebug = (context, frameCount) => {\r\n    const canvas = context.canvas;\r\n    let radius = 80;\r\n    context.fillStyle = \"#ffffffa0\";\r\n    context.beginPath();\r\n    context.arc(\r\n        canvas.width - radius - 10,\r\n        canvas.height - radius - 10,\r\n        radius * Math.sin(frameCount * 0.05) ** 2,\r\n        0,\r\n        2 * Math.PI\r\n    );\r\n    context.fill();\r\n};\r\n\r\nconst drawDefault = (context) => {\r\n    const canvas = context.canvas;\r\n    context.fillStyle = \"black\";\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    context.font = \"48px courier\";\r\n    context.textAlign = \"center\";\r\n    context.fillStyle = \"white\";\r\n    context.fillText(\"No input\", canvas.width / 2, canvas.height / 2);\r\n};\r\n\r\nconst createFillStyle = (context, storage, frameCount) => {\r\n    switch (storage.config.mode) {\r\n        case \"Gradient\":\r\n            return createGradient(context, storage.gradient, frameCount);\r\n        case \"Blinking\":\r\n            return createBlinking(context, storage.gradient, frameCount);\r\n        case \"Radial\":\r\n            return createRadial(context, storage.gradient, frameCount);\r\n        default: {\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\nconst getDrawType = (mode) => {\r\n    switch (mode) {\r\n        case \"Gradient\":\r\n        case \"Blinking\":\r\n        case \"Radial\": {\r\n            return \"fillstyle\";\r\n        }\r\n\r\n        case \"Image\": {\r\n            return \"pattern\";\r\n        }\r\n\r\n        case \"Dots\":\r\n        case \"Synthwave\": {\r\n            return \"update\";\r\n        }\r\n\r\n        default: {\r\n            return \"unknown\";\r\n        }\r\n    }\r\n};\r\n\r\nconst drawUpdate = (context, storage, frameCount, needsUpdate = false) => {\r\n    const canvas = context.canvas;\r\n    const type = getDrawType(storage.config.mode);\r\n    if (type === \"fillstyle\") {\r\n        context.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n    switch (storage.config.mode) {\r\n        case \"Dots\": {\r\n            updateDots(context, storage.dots, needsUpdate);\r\n            break;\r\n        }\r\n        case \"Image\": {\r\n            updateImage(context, storage.image);\r\n            break;\r\n        }\r\n        case \"Synthwave\": {\r\n            updateSynth(context, storage.synth, frameCount);\r\n            break;\r\n        }\r\n        default: {\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\nlet prevMode = \"\";\r\nlet prevDimensions = { width: 0, height: 0 };\r\nconst CanvasUpdate = (context, frameCount, storage) => {\r\n    if (prevMode !== storage.config.mode) {\r\n        prevMode = storage.config.mode;\r\n        // this is absolutely retarded, but without this code, drawing slows down to 10fps\r\n        let temp = context.canvas.width;\r\n        context.canvas.width = 0;\r\n        context.canvas.width = temp;\r\n    }\r\n    let needsUpdate = context.canvas.width !== prevDimensions.width || context.canvas.height !== prevDimensions.height;\r\n    if (needsUpdate) {\r\n        prevDimensions.width = context.canvas.width;\r\n        prevDimensions.height = context.canvas.height;\r\n    }\r\n\r\n    drawDefault(context);\r\n\r\n    const type = getDrawType(storage.config.mode);\r\n    if (type === \"fillstyle\") {\r\n        let fillStyle = createFillStyle(context, storage, frameCount);\r\n        if (fillStyle !== null) {\r\n            context.fillStyle = fillStyle;\r\n            drawUpdate(context, storage);\r\n        }\r\n    } else if (type === \"update\") {\r\n        drawUpdate(context, storage, frameCount, needsUpdate);\r\n    } else if (type === \"pattern\") {\r\n        drawUpdate(context, storage);\r\n    }\r\n\r\n    if (storage.config.debug) {\r\n        drawDebug(context, frameCount);\r\n    }\r\n};\r\n\r\nexport default CanvasUpdate;\r\n","import { createGradientType } from \"../GradientFactory\";\r\n\r\n//fix: Transition between colors is flickering when there are only few colors\r\nconst createGradient = (context, storeGradient, frameCount) => {\r\n    return createGradientType(context, storeGradient, frameCount, \"Gradient\");\r\n};\r\n\r\nexport { createGradient };\r\n","import { createGradientType } from \"../GradientFactory\";\r\n\r\nconst createBlinking = (context, storeGradient, frameCount) => {\r\n    return createGradientType(context, storeGradient, frameCount, \"Blinking\");\r\n};\r\n\r\nexport { createBlinking };\r\n","import { getRadius, addColorStops, getSpeed } from \"../GradientFactory\";\r\n\r\nconst getRadialGradient = (context, radius) => {\r\n    let canvas = context.canvas;\r\n    return context.createRadialGradient(\r\n        canvas.width / 2,\r\n        canvas.height / 2,\r\n        0,\r\n        canvas.width / 2,\r\n        canvas.height / 2,\r\n        radius\r\n    );\r\n};\r\n\r\nconst createRadial = (context, storeGradient, frameCount) => {\r\n    let canvas = context.canvas;\r\n    const radius = getRadius(canvas, storeGradient.colors, \"Radial\");\r\n    const gradient = getRadialGradient(context, radius);\r\n\r\n    return addColorStops(gradient, getSpeed(frameCount, storeGradient.speed), storeGradient.colors);\r\n};\r\n\r\nexport { createRadial };\r\n","import React from \"react\";\r\n\r\nimport useWindowSize from \"./windowSize\";\r\nimport useCanvas from \"./useCanvas\";\r\nimport CanvasUpdate from \"../drawing/canvasUpdate\";\r\n\r\nconst Canvas = () => {\r\n    const [width, height] = useWindowSize();\r\n    const canvasRef = useCanvas(CanvasUpdate);\r\n\r\n    return <canvas ref={canvasRef} width={width} height={height} />;\r\n};\r\n\r\nexport default Canvas;\r\n","import React from \"react\";\r\n\r\nimport Canvas from \"./Canvas\";\r\n\r\nconst Display = () => {\r\n    return <Canvas />;\r\n};\r\n\r\nexport default Display;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Checkbox } from \"@mui/material\";\r\n\r\nimport { AnimatedSettingsOverlay } from \"./settings/SettingsOverlay\";\r\nimport Display from \"./display/canvas/Display\";\r\n\r\nconst MainContainer = () => {\r\n    const [checked, setCheck] = useState(true);\r\n    return (\r\n        <div>\r\n            <Checkbox\r\n                sx={{\r\n                    position: \"absolute\",\r\n                    bottom: 7,\r\n                    left: 7,\r\n                }}\r\n                checked={checked}\r\n                onChange={({ target }) => setCheck(target.checked)}\r\n            />\r\n            <AnimatedSettingsOverlay active={checked} />\r\n            <Display />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainContainer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { CssBaseline, ThemeProvider, createTheme } from \"@mui/material\";\n\nimport { Provider } from \"react-redux\";\nimport storage from \"./redux/store\";\n\nimport MainContainer from \"./components/MainContainer\";\n\nconst theme = createTheme({\n    palette: {\n        mode: \"dark\",\n    },\n    spacing: 8,\n});\n\nconst App = () => {\n    return (\n        <Provider store={storage}>\n            <React.StrictMode>\n                <ThemeProvider theme={theme}>\n                    <CssBaseline />\n\n                    <MainContainer />\n                </ThemeProvider>\n            </React.StrictMode>\n        </Provider>\n    );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}